<div class="container mx-auto">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">All Tasks</h2>

    <!-- Table for larger devices -->
    <div class="hidden md:block overflow-x-auto">
        <table class="table-auto w-full border-collapse border border-gray-300">
            <thead>
                <tr class="bg-gray-800 text-white text-xs">
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Title</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">status</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Due Date</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Assigned To</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Customer Name</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Customer Number</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Customer Address</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">No of Rolls</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">Payment Status</th>
                    <th class="border border-gray-300 px-2 py-1 text-left uppercase">View</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let task of tasks" class="hover:bg-gray-100 transition-colors text-sm">
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.title }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700 text-center">
                        <span [ngClass]="{
                            'bg-green-100 text-green-800': task?.completed,
                            'bg-yellow-100 text-yellow-800': !task?.completed
                          }" class="text-xs font-medium me-2 px-2.5 py-0.5 rounded-full">
                            {{ task?.completed ? 'Completed' : 'Pending' }}
                        </span>
                        <span>{{task.completedDate | date:'d, MMM yy'}}</span>
                    </td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.dueDate | date:'d, MMM yy' }}
                    </td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.assignedTo }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.customer.name }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.customer.number }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.customer.address }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.noOfRolls }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">{{ task.paymentStatus }}</td>
                    <td class="border border-gray-300 px-4 py-2 text-gray-700">
                        <button [routerLink]="['task-detail', task._id]"
                            class="px-3 py-2 bg-blue-300 rounded-md cursor-pointer">View</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Cards for small devices -->
    <div class="block md:hidden">
        <div *ngFor="let task of tasks" class="border border-gray-300 rounded-md p-4 mb-4 bg-white shadow-sm">
            <p class="text-gray-700"><strong>Title:</strong> {{ task.title }}</p>
            <p class="text-gray-700"><strong>Due Date:</strong> {{ task.dueDate }}</p>
            <p class="text-gray-700"><strong>Assigned To:</strong> {{ task.assignedTo }}</p>
            <p class="text-gray-700"><strong>No of Rolls:</strong> {{ task.noOfRolls }}</p>
            <p class="text-gray-700"><strong>Payment Status:</strong> {{ task.paymentStatus }}</p>
            <p class="text-gray-700"><strong>Customer Name:</strong> {{ task.customer.name }}</p>
            <p class="text-gray-700"><strong>Customer Number:</strong> {{ task.customer.number }}</p>
            <p class="text-gray-700"><strong>Customer Address:</strong> {{ task.customer.address }}</p>

            <button [routerLink]="['task-detail', task.id]"
                class="px-3 py-2 bg-blue-300 rounded-md cursor-pointer mt-2">View</button>
        </div>
    </div>
</div>