<div>
    <h1 class="my-2 ">
        <span class="font-medium text-xl">Customers List</span>
        <!-- <button (click)="showAddCustomer = !showAddCustomer"
            class="bg-blue-500 hover:bg-blue-600 cursor-pointer px-3 text-white font-semibold  rounded-2xl mx-2">
            <i class="fa-solid transition-transform duration-300"
                [ngClass]="showAddCustomer ? 'fa-minus rotate-180' : 'fa-plus rotate-0'"></i>
            <span class="transition-opacity duration-300">
                {{ showAddCustomer ? 'Close form' : 'Add new customer' }}
            </span>
        </button> -->
    </h1>

    <!-- Accordion form -->
    <!-- <div class="overflow-hidden transition-all duration-500" [style.maxHeight]="showAddCustomer ? '500px' : '0px'">
        <form [formGroup]="customerForm" (ngSubmit)="addCustomer()"
            class="grid grid-cols-1 md:grid-cols-2 gap-3 bg-white p-4 rounded-xl shadow-md border border-gray-200 mb-6">
            <div class="flex flex-col">
                <label for="name" class="mb-1 text-sm font-medium text-gray-700">Name</label>
                <input id="name" type="text" formControlName="name" placeholder="Enter full name"
                    class="px-4 py-2 border placeholder:text-gray-500 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                <div *ngIf="customerForm.get('name')?.touched && customerForm.get('name')?.invalid"
                    class="text-sm text-red-600 mt-1">
                    <div *ngIf="customerForm.get('name')?.errors?.['required']">Name is required.</div>
                    <div *ngIf="customerForm.get('name')?.errors?.['minlength']">Name must be at least 3
                        characters.</div>
                    <div *ngIf="customerForm.get('name')?.errors?.['pattern']">Name should contain only
                        letters and spaces.</div>
                </div>
            </div>

            <div class="flex flex-col">
                <label for="phone" class="mb-1 text-sm font-medium text-gray-700">Phone</label>
                <input id="phone" type="tel" formControlName="phone" placeholder="Enter phone number"
                    class="px-4 py-2 border placeholder:text-gray-500 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                <div *ngIf="customerForm.get('phone')?.touched && customerForm.get('phone')?.invalid"
                    class="text-sm text-red-600 mt-1">
                    <div *ngIf="customerForm.get('phone')?.errors?.['required']">Phone is required.
                    </div>
                    <div *ngIf="customerForm.get('phone')?.errors?.['pattern']">Phone must be a 10-digit
                        number.</div>
                </div>
            </div>

            <div class="flex flex-col">
                <label for="address" class="mb-1 text-sm font-medium text-gray-700">Address</label>
                <input id="address" type="text" formControlName="address" placeholder="Enter full address"
                    class="px-4 py-2 border placeholder:text-gray-500 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none" />
                <div *ngIf="customerForm.get('address')?.touched && customerForm.get('address')?.invalid"
                    class="text-sm text-red-600 mt-1">
                    <div *ngIf="customerForm.get('address')?.errors?.['required']">Address is required.</div>
                    <div *ngIf="customerForm.get('address')?.errors?.['minlength']">Address must be at least 3
                        characters.</div>
                </div>
            </div>


            <div class="col-span-1 md:col-span-2 flex justify-end">
                <button type="submit" [disabled]="customerForm.invalid"
                    class="bg-blue-500 hover:bg-blue-600 cursor-pointer text-white font-semibold py-2 px-6 rounded-lg shadow transition">
                    <i class="fa-solid fa-floppy-disk mr-2"></i>Save Customer
                </button>
            </div>
        </form>
    </div> -->

    <!-- Customer table -->
    <div class="md:block overflow-x-auto">
        <table class="table-auto w-full border-collapse border border-gray-800 transition-shadow">
            <thead>
                <tr class="bg-gray-800 text-white text-xs">
                    <th class="border border-gray-500 uppercase px-2 py-1">#</th>
                    <th class="border border-gray-500 uppercase px-2 py-1">Name</th>
                    <th class="border border-gray-500 uppercase px-2 py-1">Phone</th>
                    <th class="border border-gray-500 uppercase px-2 py-1">Address</th>
                    <th class="border border-gray-500 uppercase px-2 py-1">Action</th>
                </tr>
            </thead>
            <!-- <tbody>
                <tr *ngFor="let customer of customers; let i = index" class="hover:bg-gray-200 text-sm">
                    <td class="border px-4 py-2 font-bold">{{ i + 1 }}</td>
                    <td class="border px-4 py-2">{{ customer?.name }}</td>
                    <td class="border px-4 py-2">{{ customer?.phone }}</td>
                    <td class="border px-4 py-2">{{ customer?.address }}</td>
                    <td class="border px-4 py-2 text-center">
                        <button class="px-3 md:me-1 py-2 bg-blue-300 rounded-md">
                            <i class="fa-solid fa-pen-to-square"></i>
                        </button>
                        <button class="px-3  py-2 bg-red-300 rounded-md">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                    </td>
                </tr>
            </tbody> -->

            <tbody [formGroup]="customerForm">
                <tr>
                    <td class="border p-1 text-center text-sm font-medium text-gray-500">+</td>
                    <td class="border p-1">
                        <input type="text" formControlName="name" placeholder="Enter name" class="w-full px-2 py-1 rounded border text-gray-500 bg-blue-100 text-sm" />
                    </td>
                    <td class="border p-1">
                        <input type="text" formControlName="phone" placeholder="Enter phone" class="w-full px-2 py-1 rounded border text-gray-500 bg-blue-100 text-sm" />
                    </td>
                    <td class="border p-1">
                        <input type="text" formControlName="address" placeholder="Enter address" class="w-full px-2 py-1 rounded border text-gray-500 bg-blue-100 text-sm" />
                    </td>
                    <td class="border p-1 text-center">
                        <button (click)="addCustomer()" [disabled]="customerForm.invalid"
                            class="px-2 text-black border cursor-pointer rounded-md hover:bg-green-300">
                            <i class="fa-solid fa-check"></i> Save
                        </button>
                    </td>
                </tr>
            
                <!-- Existing Customers -->
                <tr *ngFor="let customer of customers; let i = index" class="hover:bg-gray-100 text-sm">
                    <td class="border px-4 py-2 font-bold">{{ i + 1 }}</td>
                    <td class="border px-4 py-2">{{ customer?.name }}</td>
                    <td class="border px-4 py-2">{{ customer?.phone }}</td>
                    <td class="border px-4 py-2">{{ customer?.address }}</td>
                    <td class="border px-4 py-2 text-center">
                        <button class="me-1 py-1 cursor-pointer px-3 text-blue-600">
                            <i class="fa-solid fa-pen-to-square"></i>
                        </button>
                        <button class=" px-3 py-1 cursor-pointer text-red-600">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
            
        </table>
    </div>
</div>